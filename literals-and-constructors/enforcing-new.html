<!doctype html>
<html lang="en">
<head>
<title>JavaScript Patterns</title>
<meta charset="utf-8">
</head>
<body>
<script>
/* Title: Enforcing new
   Description: when you forget `new`, `this` inside the constructor will point to the global object
*/

// constructor
function Waffle() {
  this.tastes = "yummy";
}

// antipattern
// forgotten `new`
var good_morning = Waffle();
console.log(typeof good_morning); // "undefined"
console.log(window.tastes); // "yummy"

// preferred
var good_morning = new Waffle();
console.log(typeof good_morning); // "object"
console.log(good_morning.tastes); // "yummy"
</script>
</body>
</html>